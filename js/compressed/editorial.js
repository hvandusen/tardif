!function($){function e(e){var a=e.find(".season"),s;o=window.innerWidth>480?n(window.innerWidth):i(window.innerWidth),v&&v.removeClass("showing");var t=e.find(".season_image").length;e.find(".season").addClass("active"),dx=-1,dy=1,e.find(".season_image").map(function(e,n){s=$(n)[0].className.indexOf("vert")>0,$(n).removeClass("inactive"),$(n).addClass("active"),$(n).css({"z-index":g,left:o.x+"px",top:(s?50+Math.abs(100*Math.random()):o.y)+"px"}),o.x+=dx*h,o.y+=dy*h,window.innerWidth>480&&(o.x+330>window.innerWidth||o.y+$(n).height()>window.innerHeight-67||o.x<0||o.y<0)&&(l++,dx=-1,dy=1,o.y<0&&(o.y=4),o.x<0&&(o.x=4)),window.innerWidth<480&&(o.y<0||o.x<0)&&(l++,dx=w[l%4][0],dy=w[l%4][1],o.x=18,o.y=20),g--,s&&window.innerWidth<480&&(o.y=Math.floor(100*Math.random())),e===t-1&&(v=$(n).parent().prev(),v.toggleClass("showing"))}),g+=40,d=-1*d,l++}function n(e){var n=.62*e;return window.innerWidth>959?(n=.56*e,rangeHeight=.25*window.innerHeight):window.innerWidth>809?(n=.4*e,rangeHeight=window.innerHeight-450):window.innerWidth>680?(n=.32*e,rangeHeight=.15*window.innerHeight):window.innerWidth>480&&(n=.3*e,rangeHeight=.08*window.innerHeight),rangeX=(.1+.9*Math.random())*n,rangeY=(.3+.7*Math.random())*rangeHeight,rangeY<0&&(rangeY=0),{x:rangeX,y:rangeY}}function i(e){return rangeX=.15*e,rangeY=window.innerHeight-270,rangeY>200&&(rangeY=window.innerHeight-400),{x:Math.random()*rangeX,y:Math.random()*rangeY}}function a(e){var n=1e3;return ret=0,f.map(function(i){Math.abs(e-i)<n&&(ret=i,n=Math.abs(e-i))}),ret}function s(e){$(e).append('<div class="squiggle"></div>');var n=19*Math.floor($(e).width()/19);n=a($(e).width()),$(e).find(".squiggle").width(n),$(e).find(".squiggle").css("margin-left",-(n-$(e).width)/2+"px"),$(e).find(".squiggle").css("height","100px")}var t,r,d;$(".season_image").map(function(e,n){var i=7*Math.random()-3.5});var o=window.innerWidth>480?n(window.innerWidth):i(window.innerWidth),h=window.innerWidth>480?5:2,g=100,w=[[1,1],[-1,1],[-1,-1],[1,-1]];t=1,r=-1,d=1;var l=0,v;window.innerWidth<480&&$(".season_image").css("max-width",window.innerWidth-20),$(".top-brand").addClass("revealed"),$(".season_image").mouseenter(function(){$(".showing").removeClass("showing"),$(this).parent().prev().addClass("showing"),$(this).parent().prev()!==v&&(v.removeClass("showing"),v=$(this).parent().prev(),v.addClass("showing")),window.innerWidth<480&&($(this).removeClass("active"),$(this).addClass("inactive"))}),$(".season_image").mouseleave(function(){$(".showing").removeClass("showing")});var c=function(){},m=0,f=isMob?[11,16,22,33,38,43,49,54,60,65,71,76,98,103,109,111]:[49,66,74,91,98,121,147,164,171,189,196,213,238,245];$(document).ready(function(){var n=0;$(".brand_title").click(function(){0===m&&$(".brand_title").removeClass("revealed"),m++,$(this).addClass("revealed"),$(this).find(".squiggle").remove(),s(this),$(".black").removeClass("black"),0===n&&$(".season").removeClass("active"),n++;var i=$(this).text().replace(",","").replace("and ","");" "===i[i.length-1]&&(i=i.substr(0,i.length-1)),$(".brandID").map(function(n,a){i.toUpperCase()===$(a).text().toUpperCase()&&e($(a).next())})}),$(".season_image").click(function(){$(this).removeClass("active"),$(this).addClass("inactive");var e=$(this).closest(".seasons");e.find(".inactive").length===e.find(".season_image").length&&($(".brand_title").map(function(n,i){var a=e.prev().text().toUpperCase(),s=$(i).text().replace(",","").toUpperCase();s===a&&($(i).removeClass("revealed"),e.find(".active").removeClass("active"))}),window.innerWidth<480&&$(v.closest(".brand").next().find(".season_attribution")[0]).addClass("showing"),v.removeClass("showing"))}),$(".brandID").map(function(n,i){var a=$(".brandID")[$(".brandID").length-1-n];e($(a).next())})}),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&$(".season_image").css({"max-height":"none"}),window.innerWidth>480&&($(".top-brand").mouseenter(function(){$(this).hasClass("revealed")||($(this).addClass("squigHover"),s(this))}),$(".top-brand").mouseleave(function(){$(this).hasClass("squigHover")&&!$(this).hasClass("revealed")&&($(this).find(".squiggle").hide(),$(this).find(".squiggle").remove(),$(this).removeClass("squigHover"))}))}(jQuery);